<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Transformasi Dilatasi & Shear</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f0f2f5;
            padding: 20px;
            color: #212529;
        }

        h1,
        h2 {
            text-align: center;
            color: #2c3e50;
        }

        canvas {
            display: block;
            margin: 20px auto;
            background: #fff;
            border: 2px solid #dee2e6;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        input {
            width: 60px;
            padding: 6px;
            margin: 5px;
        }

        button {
            padding: 8px 16px;
            margin: 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        .section {
            max-width: 900px;
            margin: 30px auto;
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .formula {
            font-family: monospace;
            background: #f8f9fa;
            padding: 15px;
            white-space: pre-wrap;
            border-left: 4px solid #0d6efd;
        }
    </style>
</head>

<body>

    <h1>üßÆ Transformasi: Dilatasi dan Shear</h1>

    <div class="controls">
        <h3>üîß Masukkan Parameter Transformasi</h3>
        <label>Dilatasi kx: <input type="number" id="kx" value="2" step="0.1"></label>
        <label>ky: <input type="number" id="ky" value="1.5" step="0.1"></label>
        <button onclick="applyDilatasi()">üîç Terapkan Dilatasi</button><br>

        <label>Shear X (shx): <input type="number" id="shx" value="0.5" step="0.1"></label>
        <label>Shear Y (shy): <input type="number" id="shy" value="0.5" step="0.1"></label>
        <button onclick="applyShear()">üìê Terapkan Shear</button>
    </div>

    <canvas id="canvas" width="500" height="400"></canvas>

    <div class="section">
        <h2>üìò Rumus Lengkap Transformasi Dilatasi</h2>
        <div class="formula">
            1. Dilatasi (Scaling) dengan faktor kx dan ky:
            x' = kx √ó x
            y' = ky √ó y

            2. Matriks Transformasi Homogen:
            | kx 0 0 |
            | 0 ky 0 |
            | 0 0 1 |

            3. Contoh:
            Titik (x, y) = (50, 40)
            kx = 2, ky = 1.5
            ‚Üí x' = 2 √ó 50 = 100
            ‚Üí y' = 1.5 √ó 40 = 60
            Hasil: (100, 60)
        </div>
    </div>

    <div class="section">
        <h2>üìô Rumus Lengkap Transformasi Shear</h2>
        <div class="formula">
            1. Shear terhadap sumbu-x:
            x' = x + shx √ó y
            y' = y

            Matriks:
            | 1 shx 0 |
            | 0 1 0 |
            | 0 0 1 |

            2. Shear terhadap sumbu-y:
            x' = x
            y' = y + shy √ó x

            Matriks:
            | 1 0 0 |
            | shy 1 0 |
            | 0 0 1 |

            3. Contoh Shear X:
            Titik (x, y) = (50, 40), shx = 0.5
            ‚Üí x' = 50 + 0.5√ó40 = 70
            ‚Üí y' = 40
            Hasil: (70, 40)
        </div>
    </div>

    <script>
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        const originalTriangle = [
            { x: 100, y: 100 },
            { x: 200, y: 100 },
            { x: 150, y: 200 }
        ];

        function drawTriangle(points, color = 'black') {
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            points.forEach(p => ctx.lineTo(p.x, p.y));
            ctx.closePath();
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function transformPoints(points, matrix) {
            return points.map(({ x, y }) => {
                const nx = matrix[0][0] * x + matrix[0][1] * y + matrix[0][2];
                const ny = matrix[1][0] * x + matrix[1][1] * y + matrix[1][2];
                return { x: nx, y: ny };
            });
        }

        function applyDilatasi() {
            const kx = parseFloat(document.getElementById("kx").value);
            const ky = parseFloat(document.getElementById("ky").value);

            const matrix = [
                [kx, 0, 0],
                [0, ky, 0],
                [0, 0, 1]
            ];

            const transformed = transformPoints(originalTriangle, matrix);
            clearCanvas();
            drawTriangle(originalTriangle, 'gray');
            drawTriangle(transformed, 'red');
        }

        function applyShear() {
            const shx = parseFloat(document.getElementById("shx").value);
            const shy = parseFloat(document.getElementById("shy").value);

            const matrix = [
                [1, shx, 0],
                [shy, 1, 0],
                [0, 0, 1]
            ];

            const transformed = transformPoints(originalTriangle, matrix);
            clearCanvas();
            drawTriangle(originalTriangle, 'gray');
            drawTriangle(transformed, 'blue');
        }

        drawTriangle(originalTriangle);
    </script>

</body>

</html>